version: 0.2

phases:
    install:
        on-failure: ABORT
        commands:
            - ./scripts/pipeline/install.sh
    pre_build:
        on-failure: ABORT
        commands:
            - echo "pre build phase test"
            - yarn install
    build:
        on-failure: ABORT
        commands:
            - ./scripts/pipeline/build.sh
    post_build:
        on-failure: ABORT
        commands:
            - echo "post build phase test"
artifacts:
    baseDirectory: dist
    files:
        - "**/*"
    name: BuildArtifact
    discard-paths: no
cache:
    paths:
        - node_modules/**/*
